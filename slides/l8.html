<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Lesson 8 - Routes and Views</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>








<p><a href="https://github.com/generalassembly/ga-ruby-on-rails-for-devs/raw/master/images/ga.png" target="_blank"><img src="https://github.com/generalassembly/ga-ruby-on-rails-for-devs/raw/master/images/ga.png" alt="GeneralAssemb.ly" title="GeneralAssemb.ly" style="max-width:100%;"></a></p>

<h1><a id="user-content-bewd---routes-controllers--views" class="anchor" href="#bewd---routes-controllers--views" aria-hidden="true"><span class="octicon octicon-link"></span></a>BEWD - Routes, Controllers &amp; Views</h1>
<h3><a id="user-content-instructor-name" class="anchor" href="#instructor-name" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sam Backus</h3>
<h3><a id="user-content-instructor-name" class="anchor" href="#instructor-name" aria-hidden="true"><span class="octicon octicon-link"></span></a>Valeria Graffeo</h3>


</section>
<section>

<h2><a id="user-content-agenda" class="anchor" href="#agenda" aria-hidden="true"><span class="octicon octicon-link"></span></a>Agenda</h2>

<p>Learning Objective: Understand flow of control in a Rails app.</p>

<ul>
<li>  Routes</li>
<li>  Controllers</li>
<li>  Views</li>
<li>  Lab Time</li>
</ul>

</section>
<section>

<h2><a id="user-content-request-response" class="anchor" href="#request-response" aria-hidden="true"><span class="octicon octicon-link"></span></a>Request Response</h2>

<h3><a id="user-content-review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h3>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/response_request.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/response_request.png" alt="Request Response Diagram" style="max-width:100%;"></a></p>

</section>
<section>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/ICL_icons/Code_along_icon_md.png" target="_blank"><img id="user-content-icon" src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/ICL_icons/Code_along_icon_md.png" style="max-width:100%;"></a></p>

<h2><a id="user-content-games-on-rails" class="anchor" href="#games-on-rails" aria-hidden="true"><span class="octicon octicon-link"></span></a>Games on Rails</h2>

</section>
<section>

<h2><a id="user-content-the-dispatcher" class="anchor" href="#the-dispatcher" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Dispatcher</h2>

<h3><a id="user-content-routesrb" class="anchor" href="#routesrb" aria-hidden="true"><span class="octicon octicon-link"></span></a>routes.rb</h3>

<ul>
<li>  Located at config/routes.rb</li>
<li>  Connects URLs to code

<ul>
<li>Used for mapping urls to your code</li>
</ul></li>
<li>  Current Routes: $ rake routes

<ul>
<li>  Rails 4: Can be seen at http://localhost:3000/rails/info/routes</li>
</ul></li>
</ul>


</section>
<section>
<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/routes.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/routes.png" alt="" style="max-width:100%;"></a></p>

</section>
<section>

<h2><a id="user-content-routes" class="anchor" href="#routes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Routes</h2>

<h3><a id="user-content-http-verbs" class="anchor" href="#http-verbs" aria-hidden="true"><span class="octicon octicon-link"></span></a>http verbs</h3>

<p>GET, POST, PUT/PATCH, DELETE</p>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/http_verb.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/http_verb.png" alt="" style="max-width:100%;"></a></p>

</section>
<section>

<h2><a id="user-content-http-verbs-1" class="anchor" href="#http-verbs-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Http Verbs</h2>

<h3><a id="user-content-when-get-is-called" class="anchor" href="#when-get-is-called" aria-hidden="true"><span class="octicon octicon-link"></span></a>When GET is called.</h3>

<ul>
<li>  Visiting a website</li>
<li>  Clicking a link</li>
</ul>

</section>
<section>

<h2><a id="user-content-model-view-controller" class="anchor" href="#model-view-controller" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model View Controller</h2>

<h3><a id="user-content-aka-mvc" class="anchor" href="#aka-mvc" aria-hidden="true"><span class="octicon octicon-link"></span></a>aka MVC</h3>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/mvc_diagram.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/mvc_diagram.png" alt="MVC Diagram" style="max-width:100%;"></a></p>

</section>
<section>

<h2><a id="user-content-mvc" class="anchor" href="#mvc" aria-hidden="true"><span class="octicon octicon-link"></span></a>MVC</h2>

<h3><a id="user-content-routes-to-controller" class="anchor" href="#routes-to-controller" aria-hidden="true"><span class="octicon octicon-link"></span></a>Routes to Controller</h3>

<p>Controllers:</p>

<ul>
<li>  Render a View</li>
<li>  Redirect to another view</li>
</ul>

</section>
<section>

<h2><a id="user-content-controllers" class="anchor" href="#controllers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Controllers</h2>

<h3><a id="user-content-controllers-are-objects" class="anchor" href="#controllers-are-objects" aria-hidden="true"><span class="octicon octicon-link"></span></a>Controllers Are Objects!</h3>

<ul>
<li><p>Responsible for parsing user request</p></li>
<li><p>It can display some text to the browser, redirect to another path or send an error message.</p></li>
<li><p>Contains actions (aka functions)</p></li>
</ul>

</section>
<section>

<h2><a id="user-content-controllers-1" class="anchor" href="#controllers-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Controllers</h2>

<h3><a id="user-content-methods" class="anchor" href="#methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methods</h3>

<ul>
<li>  Recall: methods are "def blocks" in Ruby classes.</li>
<li>Controllers are also classes, like any other.</li>
<li>However, methods inside a controller are not like any other method; they are special (called Controller Actions)</li>
<li>A Rails action gets invoked when a route matches to that controller/action combination</li>
<li>Note: a private/protected method in a controller is NOT an action (you cannot hit that method via a URL). You can use private/protected methods to have helper methods inside a controller without being actions.</li>
</ul>

</section>
<section>

<h2><a id="user-content-controllers-2" class="anchor" href="#controllers-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Controllers</h2>

<h3><a id="user-content-params" class="anchor" href="#params" aria-hidden="true"><span class="octicon octicon-link"></span></a>Params</h3>

<ul>
<li>  http://localhost:3000/games/secret_number/7</li>
<li>  7 is a param, based on URL convention in the routes</li>
</ul>

</section>
<section>

<h2><a id="user-content-mvc-1" class="anchor" href="#mvc-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>MVC</h2>

<h3><a id="user-content-controller-to-views" class="anchor" href="#controller-to-views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Controller to Views</h3>

<ul>
<li><p>Views can be rendered directly by the controller</p>

<ul>
<li>  Note: Not scalable when HTML file gets more complex</li>
</ul></li>
<li><p>By default your controller renders the view named controller_name/action_name.html.erb</p></li>
</ul>

</section>
<section>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/views.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/views.png" alt="Views Folder" style="max-width:100%;"></a></p>

</section>
<section>

<h2><a id="user-content-views" class="anchor" href="#views" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h2>

<h3><a id="user-content-htmlerb" class="anchor" href="#htmlerb" aria-hidden="true"><span class="octicon octicon-link"></span></a>html.erb</h3>

<ul>
<li>  Can write html</li>
<li><p>Can write pure ruby.</p>

<pre><code>&lt;% @games.each do |game| %&gt;
    &lt;%= game %&gt;
&lt;% end %&gt;

&lt;% 1 + 1 %&gt; // won't show
&lt;%= 2 + 2 %&gt; // will show!
</code></pre></li>
</ul>
</section>
<section>

<h2><a id="user-content-views-1" class="anchor" href="#views-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h2>

<h3><a id="user-content-applicationhtmlerb" class="anchor" href="#applicationhtmlerb" aria-hidden="true"><span class="octicon octicon-link"></span></a>application.html.erb</h3>

<ul>
<li>  All views are wrapped inside application.html.erb

<ul>
<li>  It loads the assets</li>
<li>  sets up the meta tags, titles etc...</li>
<li>  You can render no layout Or a different layout</li>
</ul></li>
</ul>

</section>
<section>

<h2><a id="user-content-views-2" class="anchor" href="#views-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Views</h2>

<h3><a id="user-content-assets-folder" class="anchor" href="#assets-folder" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assets Folder</h3>

<ul>
<li>Keeps javascript files, stylesheets, and images</li>
</ul>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/rails/app_assets.png" target="_blank"><img src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/rails/app_assets.png" alt="" style="max-width:100%;"></a></p>

</section>
<section>

<h2><a id="user-content-homework" class="anchor" href="#homework" aria-hidden="true"><span class="octicon octicon-link"></span></a>Homework</h2>

<p>Final project proposal due lesson 9.</p>

</section>
<section>

<p><a href="http://www.github.com/generalassembly-studio/BEWD_Curriculum/blob/master/assets/ICL_icons/Exercise_icon_md.png" target="_blank"><img id="user-content-icon" src="http://www.github.com/generalassembly-studio/BEWD_Curriculum/raw/master/assets/ICL_icons/Exercise_icon_md.png" style="max-width:100%;"></a></p>

<h2><a id="user-content-lab-time" class="anchor" href="#lab-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lab Time</h2>

<p>Add Rock Paper Scissors to Games on Rails</p>

</section>
<section>










        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
